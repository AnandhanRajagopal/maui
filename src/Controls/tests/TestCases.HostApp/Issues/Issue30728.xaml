<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.Issues.Issue30728"
             Title="Issue 30728">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        
        <!-- Tab simulation buttons -->
        <StackLayout Grid.Row="0" Orientation="Horizontal" Spacing="10" Padding="10">
            <Button Text="Tab 1" 
                    Clicked="OnTab1Clicked" 
                    AutomationId="Tab1Button"
                    BackgroundColor="Red" 
                    TextColor="White" />
            <Button Text="Tab 2" 
                    Clicked="OnTab2Clicked" 
                    AutomationId="Tab2Button"
                    BackgroundColor="Blue" 
                    TextColor="White" />
            <Button Text="Tab 3" 
                    Clicked="OnTab3Clicked" 
                    AutomationId="Tab3Button"
                    BackgroundColor="Green" 
                    TextColor="White" />
        </StackLayout>
        
        <Label Grid.Row="0" 
               Text="Rapidly switch between tabs to test image race condition" 
               HorizontalOptions="Center" 
               VerticalOptions="End"
               Padding="10" 
               FontSize="12"
               AutomationId="InstructionLabel" />
        
        <!-- Content area that will be replaced when tabs are switched -->
        <ContentView x:Name="mainContent" Grid.Row="1">
            <Label Text="Select a tab to load images" 
                   HorizontalOptions="Center" 
                   VerticalOptions="Center"
                   AutomationId="InitialMessage" />
        </ContentView>
    </Grid>
</ContentPage>