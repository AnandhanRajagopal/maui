<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.Issues.Issue30536"
             Title="Issue 30536">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        
        <!-- Control buttons -->
        <StackLayout Grid.Row="0" Orientation="Horizontal" Padding="10" Spacing="10">
            <Button x:Name="OpenWindowButton" 
                    Text="Open Second Window" 
                    AutomationId="OpenWindowButton" 
                    Clicked="OnOpenWindowClicked" />
            <Button x:Name="ClearLogsButton" 
                    Text="Clear Logs" 
                    AutomationId="ClearLogsButton" 
                    Clicked="OnClearLogsClicked" />
        </StackLayout>
        
        <!-- Status display -->
        <StackLayout Grid.Row="1" Orientation="Horizontal" Padding="10" Spacing="10">
            <Label Text="Window Count:" />
            <Label x:Name="WindowCountLabel" 
                   Text="1" 
                   AutomationId="WindowCountLabel" />
            <Label Text="Events:" />
            <Label x:Name="EventCountLabel" 
                   Text="0" 
                   AutomationId="EventCountLabel" />
        </StackLayout>
        
        <!-- Main test area with pointer gesture -->
        <Border Grid.Row="2" 
                BackgroundColor="LightBlue" 
                Margin="20" 
                Padding="20"
                AutomationId="TestArea">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="10" />
            </Border.StrokeShape>
            
            <StackLayout>
                <Label Text="Pointer Gesture Test Area" 
                       FontSize="18" 
                       FontAttributes="Bold" 
                       HorizontalOptions="Center" 
                       AutomationId="TestAreaTitle" />
                
                <Label Text="Move your mouse in and out of this area. The events below should fire appropriately." 
                       Margin="0,10" 
                       HorizontalTextAlignment="Center" />
                
                <!-- Event log display -->
                <ScrollView HeightRequest="200" 
                           BackgroundColor="White" 
                           Margin="0,20,0,0">
                    <Label x:Name="EventLogLabel" 
                           Text="Event Log (most recent first):"
                           AutomationId="EventLogLabel"
                           Padding="10" 
                           FontFamily="Courier New" />
                </ScrollView>
            </StackLayout>
            
            <!-- Pointer gesture recognizer -->
            <Border.GestureRecognizers>
                <PointerGestureRecognizer PointerEntered="OnPointerEntered"
                                        PointerExited="OnPointerExited"
                                        PointerMoved="OnPointerMoved" />
            </Border.GestureRecognizers>
        </Border>
    </Grid>
</ContentPage>